# Modelfile generated by "ollama show"
# To build a new Modelfile based on this, replace FROM with:
# FROM sammcj/glm-4-32b-0414:q6_k

FROM /root/.ollama/models/blobs/sha256-e26d1b9723e28f56009417fff2e4143e9cc66204f7475a11f71cd5ee4ca0eb88
TEMPLATE """[gMASK]<sop>{{- /* ---------- tools section ---------- */}}
{{- if .Tools }}
<|system|>
# Available Tools
{{- range .Tools }}
## {{- if .Function }}{{ .Function.Name }}{{- else }}{{ .Name }}{{- end }}

{{ json .Function }}
When calling one of the tools above, pass the arguments in JSON format.
{{- end }}
{{- end }}

{{/* ---------- system messages ---------- */}}
{{- range .Messages }}
  {{- if eq .Role "system" }}
<|system|>
{{ .Content }}
  {{- end }}
{{- end }}

{{/* ---------- user / assistant / observation ---------- */}}
{{- range .Messages }}
  {{- if ne .Role "system" }}
    {{- if eq .Role "user" }}
<|user|>
{{ .Content }}
    {{- else if eq .Role "assistant" }}
      {{- if .ToolCalls }}{{/* assistant function-call */}}
<|assistant|>{{ json .ToolCalls }}
{{ .Content }}
      {{- else }}{{/* normal assistant message */}}
<|assistant|>
{{ .Content }}
      {{- end }}
    {{- else if eq .Role "observation" }}
<|observation|>
{{ .Content }}
    {{- end }}
  {{- end }}
{{- end }}
<|assistant|>"""
PARAMETER top_p 0.85
PARAMETER num_ctx 32768
PARAMETER num_keep 256
PARAMETER stop <|system|>
PARAMETER stop <|user|>
PARAMETER stop <|assistant|>
PARAMETER stop <|observation|>
PARAMETER temperature 0.2

